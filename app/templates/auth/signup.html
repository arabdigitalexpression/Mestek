{% extends 'auth/base.html' %}

{% block title %}تسجيل حساب جديد{% endblock %}

{% block auth_analytics %}
<!-- Meta Pixel Code -->
<script>
    !function (f, b, e, v, n, t, s) {
        if (f.fbq) return;
        n = f.fbq = function () {
            n.callMethod ?
                n.callMethod.apply(n, arguments) : n.queue.push(arguments)
        };
        if (!f._fbq) f._fbq = n;
        n.push = n;
        n.loaded = !0;
        n.version = '2.0';
        n.queue = [];
        t = b.createElement(e);
        t.async = !0;
        t.src = v;
        s = b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t, s)
    }(window, document, 'script',
        'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '396155903331206');
    fbq('track', 'PageView');

</script>

<noscript>
    <img height="1" width="1"
         src="https://www.facebook.com/tr?id=396155903331206&ev=PageView
&noscript=1"/>
</noscript>

{% endblock %}

{% block content %}
<div class="container">
    <div class="card o-hidden border-0 shadow-lg my-5">
        <div class="card-body p-0">
            <!-- Nested Row within Card Body -->
            <div class="row">
                <div class="col-lg-5 d-none d-lg-block">
                    <img src="{{ url_for('static', filename='images/sign_in.svg') }}" class="w-100 h-100 px-3">
                </div>
                <div class="col-lg-7">
                    <div class="p-5">
                        <div class="text-center">
                            <h1 class="h4 text-primary mb-4">مرحباً بك</h1>
                        </div>
                        <form class="user form" action="{{ url_for('auth.signup_page') }}" method="POST">
                            {{ form.hidden_tag() }}
                            {{ form.csrf_token }}

                            <div class="form-group row">
                                <div class="col-sm-4 mb-3 mb-sm-0">
                                    {{ form.firstName }}
                                </div>
                                <div class="col-sm-4 mb-3 mb-sm-0">
                                    {{ form.lastName }}
                                </div>
                                <div class="col-sm-4 mb-3 mb-sm-0">
                                    {{ form.gender }}
                                </div>
                            </div>

                            {% if form.firstName.errors %}
                                <div class="alert alert-danger">{{ form.firstName.errors[0] }}</div>
                            {% endif %}
                            {% if form.lastName.errors %}
                                <div class="alert alert-danger">{{ form.lastName.errors[0] }}</div>
                            {% endif %}
                            {% if form.gender.errors %}
                                <div class="alert alert-danger">{{ form.gender.errors[0] }}</div>
                            {% endif %}

                            <div class="form-group row">
                                <div class="col-sm-6 mb-3 mb-sm-0">
                                    {{ form.userName }}
                                </div>
                                <div class="col-sm-6">
                                    {{ form.category }}
                                </div>
                            </div>

                            {% if form.userName.errors %}
                                <div class="alert alert-danger">{{ form.userName.errors[0] }}</div>
                            {% endif %}
                            {% if form.category.errors %}
                                <div class="alert alert-danger">{{ form.category.errors[0] }}</div>
                            {% endif %}

                            <div class="form-group row">
                                <div class="col-sm-6 mb-3 mb-sm-0">
                                    {{ form.email }}
                                </div>
                                <div class="col-sm-6">
                                    {{ form.phone }}
                                </div>
                            </div>

                            {% if form.email.errors %}
                                <div class="alert alert-danger">{{ form.email.errors[0] }}</div>
                            {% endif %}
                            {% if form.phone.errors %}
                                <div class="alert alert-danger">{{ form.phone.errors[0] }}</div>
                            {% endif %}

                            <div class="form-group row">
                                <div class="col-sm-6 mb-3 mb-sm-0">
                                    {{ form.password }}
                                </div>
                                <div class="col-sm-6">
                                    {{ form.confirm_password }}
                                </div>
                            </div>

                            {% if form.password.errors %}
                                <div class="alert alert-danger">{{ form.password.errors[0] }}</div>
                            {% endif %}
                            {% if form.confirm_password.errors %}
                                <div class="alert alert-danger">{{ form.confirm_password.errors[0] }}</div>
                            {% endif %}

                            <div class="form-group row">
                                <div class="col-12 mb-3 mb-sm-0">
                                    <input class="form-check-input" type="checkbox" value="" id="toc-privacy"
                                           required="">
                                    <label class="form-check-label" for="toc-privacy">
                                        بالنقر فوق "تسجيل الحساب"، فإنك توافق على
                                        <a href="{{ url_for ('main.toc') }}">الشروط</a>
                                        و
                                        <a href="{{ url_for ('main.privacy') }}">سياسة الخصوصية</a>
                                        و
                                        <a href="https://adef.xyz/wiki/%D9%85%D8%AF%D9%88%D9%86%D8%A9_%D8%A7%D9%84%D8%B3%D9%84%D9%88%D9%83#.D8.B3.D9.8A.D8.A7.D8.B3.D8.A9_.D9.85.D9.86.D8.A7.D9.87.D8.B6.D8.A9_.D8.A7.D9.84.D8.AA.D8.AD.D8.B1.D8.B4_.D9.88.D8.A7.D9.84.D8.AA.D9.85.D9.8A.D9.8A.D8.B2_.D9.88.D8.A7.D9.84.D8.B9.D9.86.D9.81">سياسة
                                            مناهضة التحرش والتمييز والعنف</a>
                                        و
                                        <a href="https://adef.xyz/wiki/%D8%A5%D8%AF%D8%A7%D8%B1%D8%A9:%D8%AF%D9%84%D9%8A%D9%84_%D8%B3%D9%8A%D8%A7%D8%B3%D8%A9_%D8%AD%D9%85%D8%A7%D9%8A%D8%A9_%D8%A7%D9%84%D8%B7%D9%81%D9%84_2022">دليل
                                            سياسة حماية الطفل</a>
                                        الخاصة بنا.
                                    </label>
                                </div>

                            </div>
                            {{ form.submit }}
                        </form>
                        <hr/>
                        <div class="text-center">
                            <a class="small" href="{{ url_for('auth.login_page') }}">
                                لديك حساب؟ - سجل دخولك
                            </a>
                        </div>
                        <div class="text-center">
                            <a class="small" href="{{ url_for ('main.main_page')}}">
                                العودة إلى الصفحة الرئيسية
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
